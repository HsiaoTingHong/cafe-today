"use strict";(self["webpackChunkcafe_today"]=self["webpackChunkcafe_today"]||[]).push([[459],{9737:function(e,t,s){s(4114),s(8992),s(4520),s(2577),s(8872),s(7550);var i=s(2261);const a=(0,i.nY)("save",{state:()=>({items:[],selectedItems:[]}),getters:{totalAmount:e=>e.items.reduce(((e,t)=>e+t.address),0),itemCount:e=>e.items.length},actions:{addToSave(e){const t=JSON.parse(localStorage.getItem("savedCafes")||"[]"),s=t.some((t=>t.id===e.id));if(s)return"isAlreadySavedInStorage";const i=this.items.find((t=>t.id===e.id));if(i){if(i)return"existingItem"}else this.items.push({id:e.id,name:e.name,city:e.city,address:e.address,open_time:e.open_time});return!0},removeFromSave(e){this.items=this.items.filter((t=>t.id!==e)),this.selectedItems=this.selectedItems.filter((t=>t!==e))},toggleSelectItem(e){const t=this.selectedItems.indexOf(e);-1===t?this.selectedItems.push(e):this.selectedItems.splice(t,1)},removeSelectedItems(){this.items=this.items.filter((e=>!this.selectedItems.includes(e.id))),this.selectedItems=[]},clearSave(){this.items=[],this.selectedItems=[]},checkout(){let e=JSON.parse(localStorage.getItem("savedCafes")||"[]");e=[...e,...this.items],localStorage.setItem("savedCafes",JSON.stringify(e))}}});t.A=a},3459:function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var i=s(6768),a=s(4232),l=s(9737);const c={class:"min-h-[82vh]"},d={class:""},n={class:"child-nav"},o={key:0,class:"saveCount-absolute"},r={class:""};var m={__name:"ListView",setup(e){const t=(0,l.A)(),s=(0,i.EW)((()=>t.itemCount));return(e,t)=>{const l=(0,i.g2)("router-link"),m=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",c,[(0,i.Lk)("div",d,[(0,i.Lk)("div",n,[(0,i.bF)(l,{to:"/list/listTaichung",href:"#",class:"button click-color-light"},{default:(0,i.k6)((()=>t[0]||(t[0]=[(0,i.eW)(" 台中咖啡店列表 ")]))),_:1}),(0,i.bF)(l,{to:"/list/saveListView",href:"#",class:"button click-color-light saveCount-relative"},{default:(0,i.k6)((()=>[t[1]||(t[1]=(0,i.eW)(" 待收藏清單 ")),s.value>0?((0,i.uX)(),(0,i.CE)("span",o,(0,a.v_)(s.value),1)):(0,i.Q3)("",!0)])),_:1})])]),(0,i.Lk)("div",r,[(0,i.bF)(m)])])}}},u=s(1241);const h=(0,u.A)(m,[["__scopeId","data-v-f6d99d7a"]]);var v=h}}]);