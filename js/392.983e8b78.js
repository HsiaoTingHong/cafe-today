"use strict";(self["webpackChunkcafe_today"]=self["webpackChunkcafe_today"]||[]).push([[392],{5785:function(e,l,s){s.d(l,{A:function(){return t}});var a=s(144);function t(){const e=(0,a.KR)(!1),l=(0,a.KR)(""),s=(0,a.KR)("success"),t=(a,t="success")=>{l.value=a,s.value=t,e.value=!0},o=()=>{e.value=!1};return{showModal:e,modalMessage:l,modalType:s,openModal:t,closeModal:o}}},2136:function(e,l,s){s.d(l,{A:function(){return i}});var a=s(6768),t=s(4232);const o={key:0,class:"modal-overlay"},c={class:"modal-type"},u={class:"modal-message light-bold-text"};var n={__name:"ModalBox",props:{visible:Boolean,message:String,type:{type:String,default:"success"}},emits:["close"],setup(e,{emit:l}){const s=e,n=(0,a.EW)((()=>"success"===s.type?"modal-text-green":"modal-text-red")),r=(0,a.EW)((()=>"success"===s.type?"成功！":"錯誤！")),d=l,i=()=>{d("close")};return(l,s)=>e.visible?((0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",{class:(0,t.C4)(["modal-box",n.value])},[(0,a.Lk)("p",c,(0,t.v_)(r.value),1),(0,a.Lk)("p",u,(0,t.v_)(e.message),1),(0,a.Lk)("button",{class:"button click-color-light",onClick:i},"確定")],2)])):(0,a.Q3)("",!0)}},r=s(1241);const d=(0,r.A)(n,[["__scopeId","data-v-584854f8"]]);var i=d},4392:function(e,l,s){s.r(l),s.d(l,{default:function(){return y}});s(4114);var a=s(6768),t=s(4232),o=s(5130),c=s(144),u=s(3831),n=s(1387),r=s(2136),d=s(5785);const i={class:"screen-center"},p={class:""},v={class:"input-label light-bold-text"},k={class:"input-label light-bold-text"},b={class:"button-div"},m={key:0,class:"errMsg-text"};var g={__name:"LoginView",setup(e){const l=(0,u.xI)(),s=(0,n.rd)(),g=(0,c.KR)(""),f=(0,c.KR)(""),x=(0,c.KR)(""),{showModal:y,modalMessage:L,modalType:h,openModal:_,closeModal:C}=(0,d.A)(),M=()=>{(0,u.x9)(l,g.value,f.value).then((()=>{_("登入成功，即將跳轉至首頁！","success"),setTimeout((()=>{s.push("/")}),2e3)})).catch((e=>{console.log("登入失敗",e),x.value="登入失敗",_("登入失敗！","error")}))};return(e,l)=>{const s=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",i,[l[5]||(l[5]=(0,a.Lk)("h2",{class:"light-bold-text-xl"},"登入會員",-1)),(0,a.Lk)("form",p,[(0,a.Lk)("div",v,[l[2]||(l[2]=(0,a.Lk)("label",{class:"",for:"email"}," email ",-1)),(0,a.bo)((0,a.Lk)("input",{class:(0,t.C4)(["input-text",{"errMsg-border":x.value}]),id:"email",type:"text",placeholder:"請輸入電子信箱","onUpdate:modelValue":l[0]||(l[0]=e=>g.value=e)},null,2),[[o.Jo,g.value]])]),(0,a.Lk)("div",k,[l[3]||(l[3]=(0,a.Lk)("label",{class:"",for:"password"}," Password ",-1)),(0,a.bo)((0,a.Lk)("input",{class:(0,t.C4)(["input-text",{"errMsg-border":x.value}]),id:"password",type:"password",placeholder:"請輸入密碼","onUpdate:modelValue":l[1]||(l[1]=e=>f.value=e)},null,2),[[o.Jo,f.value]])]),(0,a.Lk)("div",b,[(0,a.Lk)("button",{class:"button click-color-mid",type:"button",onClick:(0,o.D$)(M,["prevent"])}," 登入 "),x.value?((0,a.uX)(),(0,a.CE)("p",m,(0,t.v_)(x.value),1)):(0,a.Q3)("",!0),(0,a.bF)(s,{to:"/register"},{default:(0,a.k6)((()=>l[4]||(l[4]=[(0,a.Lk)("p",{class:"dark-text-xs underline"},"還沒有註冊會員嗎? 點擊前往註冊會員",-1)]))),_:1})])])]),(0,a.bF)(r.A,{visible:(0,c.R1)(y),message:(0,c.R1)(L),type:(0,c.R1)(h),onClose:(0,c.R1)(C)},null,8,["visible","message","type","onClose"])],64)}}},f=s(1241);const x=(0,f.A)(g,[["__scopeId","data-v-2880a364"]]);var y=x}}]);