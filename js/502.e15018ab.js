"use strict";(self["webpackChunkcafe_today"]=self["webpackChunkcafe_today"]||[]).push([[502],{5785:function(e,l,s){s.d(l,{A:function(){return o}});var a=s(144);function o(){const e=(0,a.KR)(!1),l=(0,a.KR)(""),s=(0,a.KR)("success"),o=(a,o="success")=>{l.value=a,s.value=o,e.value=!0},t=()=>{e.value=!1};return{showModal:e,modalMessage:l,modalType:s,openModal:o,closeModal:t}}},2136:function(e,l,s){s.d(l,{A:function(){return i}});var a=s(6768),o=s(4232);const t={key:0,class:"modal-overlay"},c={class:"modal-type"},u={class:"modal-message light-bold-text"};var n={__name:"ModalBox",props:{visible:Boolean,message:String,type:{type:String,default:"success"}},emits:["close"],setup(e,{emit:l}){const s=e,n=(0,a.EW)((()=>"success"===s.type?"modal-text-green":"modal-text-red")),r=(0,a.EW)((()=>"success"===s.type?"成功！":"錯誤！")),d=l,i=()=>{d("close")};return(l,s)=>e.visible?((0,a.uX)(),(0,a.CE)("div",t,[(0,a.Lk)("div",{class:(0,o.C4)(["modal-box",n.value])},[(0,a.Lk)("p",c,(0,o.v_)(r.value),1),(0,a.Lk)("p",u,(0,o.v_)(e.message),1),(0,a.Lk)("button",{class:"button click-color-light",onClick:i},"確定")],2)])):(0,a.Q3)("",!0)}},r=s(1241);const d=(0,r.A)(n,[["__scopeId","data-v-584854f8"]]);var i=d},5502:function(e,l,s){s.r(l),s.d(l,{default:function(){return h}});s(4114);var a=s(6768),o=s(4232),t=s(5130),c=s(144),u=s(3831),n=s(1387),r=s(2136),d=s(5785);const i={class:"screen-center"},v={class:""},p={class:"input-label light-bold-text"},b={class:"input-label light-bold-text"},m={class:"button-div"},k={key:0,class:"errMsg-text"};var g={__name:"RegisterView",setup(e){const l=(0,u.xI)(),s=(0,n.rd)(),g=(0,c.KR)(""),f=(0,c.KR)(""),y=(0,c.KR)(""),{showModal:h,modalMessage:L,modalType:x,openModal:_,closeModal:C}=(0,d.A)(),M=()=>{(0,u.eJ)(l,g.value,f.value).then((e=>{const{user:l}=e;console.log("註冊成功，即將跳轉至登入頁面",l),_("註冊成功，即將跳轉至登入頁面！","success"),setTimeout((()=>{s.push("/login")}),3e3)})).catch((e=>{console.log("error",e),y.value="註冊失敗",_("註冊失敗！","error")}))};return(e,l)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",i,[l[4]||(l[4]=(0,a.Lk)("h2",{class:"light-bold-text-xl"},"註冊會員",-1)),(0,a.Lk)("form",v,[(0,a.Lk)("div",p,[l[2]||(l[2]=(0,a.Lk)("label",{class:"",for:"email"}," email ",-1)),(0,a.bo)((0,a.Lk)("input",{class:(0,o.C4)(["input-text",{"errMsg-border":y.value}]),id:"email",type:"text",placeholder:"請輸入電子信箱","onUpdate:modelValue":l[0]||(l[0]=e=>g.value=e)},null,2),[[t.Jo,g.value]])]),(0,a.Lk)("div",b,[l[3]||(l[3]=(0,a.Lk)("label",{class:"",for:"password"}," Password ",-1)),(0,a.bo)((0,a.Lk)("input",{class:(0,o.C4)(["input-text",{"errMsg-border":y.value}]),id:"password",type:"password",placeholder:"請輸入密碼","onUpdate:modelValue":l[1]||(l[1]=e=>f.value=e)},null,2),[[t.Jo,f.value]])]),(0,a.Lk)("div",m,[(0,a.Lk)("button",{class:"button click-color-mid",type:"button",onClick:(0,t.D$)(M,["prevent"])}," 註冊 "),y.value?((0,a.uX)(),(0,a.CE)("p",k,(0,o.v_)(y.value),1)):(0,a.Q3)("",!0)])])]),(0,a.bF)(r.A,{visible:(0,c.R1)(h),message:(0,c.R1)(L),type:(0,c.R1)(x),onClose:(0,c.R1)(C)},null,8,["visible","message","type","onClose"])],64))}},f=s(1241);const y=(0,f.A)(g,[["__scopeId","data-v-070eeb6e"]]);var h=y}}]);