"use strict";(self["webpackChunkcafe_today"]=self["webpackChunkcafe_today"]||[]).push([[356],{5785:function(e,t,s){s.d(t,{A:function(){return r}});var o=s(144);function r(){const e=(0,o.KR)(!1),t=(0,o.KR)(""),s=(0,o.KR)("success"),r=(o,r="success")=>{t.value=o,s.value=r,e.value=!0},a=()=>{e.value=!1};return{showModal:e,modalMessage:t,modalType:s,openModal:r,closeModal:a}}},2136:function(e,t,s){s.d(t,{A:function(){return c}});var o=s(6768),r=s(4232);const a={key:0,class:"modal-overlay"},n={class:"modal-type"},l={class:"modal-message light-bold-text"};var i={__name:"ModalBox",props:{visible:Boolean,message:String,type:{type:String,default:"success"}},emits:["close"],setup(e,{emit:t}){const s=e,i=(0,o.EW)((()=>"success"===s.type?"modal-text-green":"modal-text-red")),d=(0,o.EW)((()=>"success"===s.type?"成功！":"錯誤！")),u=t,c=()=>{u("close")};return(t,s)=>e.visible?((0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("div",{class:(0,r.C4)(["modal-box",i.value])},[(0,o.Lk)("p",n,(0,r.v_)(d.value),1),(0,o.Lk)("p",l,(0,r.v_)(e.message),1),(0,o.Lk)("button",{class:"button click-color-light",onClick:c},"確定")],2)])):(0,o.Q3)("",!0)}},d=s(1241);const u=(0,d.A)(i,[["__scopeId","data-v-584854f8"]]);var c=u},8356:function(e,t,s){s.r(t),s.d(t,{default:function(){return A}});var o=s(6768),r=s(5130),a=s(4232);const n={class:"screen-center"},l={class:"input-label light-bold-text"},i={key:0,class:"errMsg-text"},d={class:"input-label light-bold-text"},u={key:1,class:"errMsg-text"},c={class:"input-label light-bold-text"},m={key:2,class:"errMsg-text"},p={class:"input-label light-bold-text"},f={key:3,class:"errMsg-text"};function C(e,t,s,C,y,b){const g=(0,o.g2)("ModalBox");return(0,o.uX)(),(0,o.CE)(o.FK,null,[t[11]||(t[11]=(0,o.Lk)("h2",{class:"title"},"自己新增口袋名單",-1)),(0,o.Lk)("div",n,[t[10]||(t[10]=(0,o.Lk)("h2",{class:"light-bold-text-xl"},"請輸入你的口袋名單",-1)),(0,o.Lk)("form",{onSubmit:t[4]||(t[4]=(0,r.D$)(((...e)=>C.submitForm&&C.submitForm(...e)),["prevent"]))},[(0,o.Lk)("div",l,[t[5]||(t[5]=(0,o.Lk)("label",{for:"CustomizeCafeName"},[(0,o.eW)("店家"),(0,o.Lk)("br"),(0,o.eW)("名稱")],-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"CustomizeCafeName","onUpdate:modelValue":t[0]||(t[0]=e=>C.CustomizeCafe.name=e),placeholder:"請輸入店家名稱(必填)",class:(0,a.C4)(["input-text",C.errors.name?"errMsg-border":""])},null,2),[[r.Jo,C.CustomizeCafe.name]])]),C.errors.name?((0,o.uX)(),(0,o.CE)("span",i,(0,a.v_)(C.errors.name),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",d,[t[6]||(t[6]=(0,o.Lk)("label",{for:"CustomizeCafeCity"},"城市",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"CustomizeCafeCity","onUpdate:modelValue":t[1]||(t[1]=e=>C.CustomizeCafe.city=e),placeholder:"請輸入城市英文小寫(必填)",class:(0,a.C4)(["input-text",C.errors.city?"errMsg-border":""])},null,2),[[r.Jo,C.CustomizeCafe.city]])]),C.errors.city?((0,o.uX)(),(0,o.CE)("span",u,(0,a.v_)(C.errors.city),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",c,[t[7]||(t[7]=(0,o.Lk)("label",{for:"CustomizeCafeAddress"},"地址",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"CustomizeCafeAddress","onUpdate:modelValue":t[2]||(t[2]=e=>C.CustomizeCafe.address=e),placeholder:"請輸入詳細中文地址(必填)",class:(0,a.C4)(["input-text",C.errors.address?"errMsg-border":""])},null,2),[[r.Jo,C.CustomizeCafe.address]])]),C.errors.address?((0,o.uX)(),(0,o.CE)("span",m,(0,a.v_)(C.errors.address),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",p,[t[8]||(t[8]=(0,o.Lk)("label",{for:"CustomizeCafeHours"},[(0,o.eW)("營業"),(0,o.Lk)("br"),(0,o.eW)("時間")],-1)),(0,o.bo)((0,o.Lk)("textarea",{id:"CustomizeCafeHours","onUpdate:modelValue":t[3]||(t[3]=e=>C.CustomizeCafe.open_time=e),placeholder:"請輸入營業時間，例如：週一至週五 09:00-21:00(必填)",class:(0,a.C4)(["input-text",C.errors.open_time?"errMsg-border":""])},"        ",2),[[r.Jo,C.CustomizeCafe.open_time]])]),C.errors.open_time?((0,o.uX)(),(0,o.CE)("span",f,(0,a.v_)(C.errors.open_time),1)):(0,o.Q3)("",!0),t[9]||(t[9]=(0,o.Lk)("div",null,[(0,o.Lk)("button",{type:"submit",class:"button click-color-light button-top"},"加入你的口袋名單")],-1))],32)]),(0,o.bF)(g,{visible:C.showModal,message:C.modalMessage,type:C.modalType,onClose:C.closeModal},null,8,["visible","message","type","onClose"])],64)}s(4114),s(8992),s(3949),s(7550);var y=s(144);const b="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var g={randomUUID:b};s(6573),s(8100),s(7936),s(7467),s(4732),s(9577);let v;const k=new Uint8Array(16);function h(){if(!v){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");v=crypto.getRandomValues.bind(crypto)}return v(k)}const _=[];for(let S=0;S<256;++S)_.push((S+256).toString(16).slice(1));function x(e,t=0){return(_[e[t+0]]+_[e[t+1]]+_[e[t+2]]+_[e[t+3]]+"-"+_[e[t+4]]+_[e[t+5]]+"-"+_[e[t+6]]+_[e[t+7]]+"-"+_[e[t+8]]+_[e[t+9]]+"-"+_[e[t+10]]+_[e[t+11]]+_[e[t+12]]+_[e[t+13]]+_[e[t+14]]+_[e[t+15]]).toLowerCase()}function L(e,t,s){if(g.randomUUID&&!t&&!e)return g.randomUUID();e=e||{};const o=e.random??e.rng?.()??h();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if(s=s||0,s<0||s+16>t.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=o[e];return t}return x(o)}var M=L,z=s(2136),U=s(5785),w={name:"CustomizeEditView",components:{ModalBox:z.A},setup(){const e=(0,y.Kh)({id:M(),name:"",city:"",address:"",open_time:""}),{showModal:t,modalMessage:s,modalType:o,openModal:r,closeModal:a}=(0,U.A)(),n=(0,y.Kh)({name:"",city:"",address:"",open_time:""}),l=()=>{let t=!0;return Object.keys(n).forEach((e=>{n[e]=""})),e.name.trim()||(n.name="店家名稱為必填",t=!1),e.city.trim()?/^[a-z]+$/.test(e.city)||(n.city="城市請輸入英文小寫",t=!1):(n.city="城市為必填",t=!1),e.address.trim()?/^[\u4e00-\u9fa5\d\s]+$/.test(e.address)||(n.address="地址需為中文，可包含數字和空白",t=!1):(n.address="地址為必填",t=!1),e.open_time.trim()?/週.+?至週.+?\s\d{2}:\d{2}-\d{2}:\d{2}/.test(e.open_time)||(n.open_time="營業時間格式不符，範例：週一至週五 09:00-21:00",t=!1):(n.open_time="營業時間為必填",t=!1),t},i=()=>{if(!l())return void r("請確認填寫的資料格式是否錯誤！","error");const t=JSON.parse(localStorage.getItem("savedCafes")||"[]"),s=t.some((t=>t.name===e.name));s?r("此咖啡店已在你的口袋名單中！","error"):(t.push({...e}),localStorage.setItem("savedCafes",JSON.stringify(t)),r("已成功收藏到你的口袋名單！","success"),e.name="",e.city="",e.address="",e.open_time="",e.id=M())};return{CustomizeCafe:e,submitForm:i,showModal:t,closeModal:a,modalMessage:s,modalType:o,errors:n}}},E=s(1241);const I=(0,E.A)(w,[["render",C],["__scopeId","data-v-c2ba6c52"]]);var A=I}}]);