"use strict";(self["webpackChunkcafe_today"]=self["webpackChunkcafe_today"]||[]).push([[241],{5785:function(e,s,l){l.d(s,{A:function(){return a}});var t=l(144);function a(){const e=(0,t.KR)(!1),s=(0,t.KR)(""),l=(0,t.KR)("success"),a=(t,a="success")=>{s.value=t,l.value=a,e.value=!0},o=()=>{e.value=!1};return{showModal:e,modalMessage:s,modalType:l,openModal:a,closeModal:o}}},2136:function(e,s,l){l.d(s,{A:function(){return i}});var t=l(6768),a=l(4232);const o={key:0,class:"modal-overlay"},c={class:"modal-type"},n={class:"modal-message light-bold-text"};var u={__name:"ModalBox",props:{visible:Boolean,message:String,type:{type:String,default:"success"}},emits:["close"],setup(e,{emit:s}){const l=e,u=(0,t.EW)((()=>"success"===l.type?"modal-text-green":"modal-text-red")),r=(0,t.EW)((()=>"success"===l.type?"成功！":"錯誤！")),d=s,i=()=>{d("close")};return(s,l)=>e.visible?((0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("div",{class:(0,a.C4)(["modal-box",u.value])},[(0,t.Lk)("p",c,(0,a.v_)(r.value),1),(0,t.Lk)("p",n,(0,a.v_)(e.message),1),(0,t.Lk)("button",{class:"button click-color-light",onClick:i},"確定")],2)])):(0,t.Q3)("",!0)}},r=l(1241);const d=(0,r.A)(u,[["__scopeId","data-v-584854f8"]]);var i=d},5241:function(e,s,l){l.r(s),l.d(s,{default:function(){return y}});l(4114);var t=l(6768),a=l(4232),o=l(5130),c=l(144),n=l(3831),u=l(1387),r=l(2136),d=l(5785);const i={class:"screen-center"},p={class:""},v={class:"input-label light-bold-text"},k={class:"input-label light-bold-text"},b={class:"button-div"},m={key:0,class:"errMsg-text"};var g={__name:"LoginView",setup(e){const s=(0,n.xI)(),l=(0,u.rd)(),g=(0,c.KR)(""),f=(0,c.KR)(""),x=(0,c.KR)(""),{showModal:y,modalMessage:L,modalType:h,openModal:_,closeModal:C}=(0,d.A)(),M=()=>{(0,n.x9)(s,g.value,f.value).then((e=>{const{user:s}=e;console.log("登入成功，即將跳轉至首頁",s),_("登入成功，即將跳轉至首頁！","success"),setTimeout((()=>{l.push("/")}),3e3)})).catch((e=>{console.log("登入失敗",e),x.value="登入失敗",_("登入失敗！","error")}))};return(e,s)=>{const l=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",i,[s[5]||(s[5]=(0,t.Lk)("h2",{class:"light-bold-text-xl"},"登入會員",-1)),(0,t.Lk)("form",p,[(0,t.Lk)("div",v,[s[2]||(s[2]=(0,t.Lk)("label",{class:"",for:"email"}," email ",-1)),(0,t.bo)((0,t.Lk)("input",{class:(0,a.C4)(["input-text",{"errMsg-border":x.value}]),id:"email",type:"text",placeholder:"請輸入電子信箱","onUpdate:modelValue":s[0]||(s[0]=e=>g.value=e)},null,2),[[o.Jo,g.value]])]),(0,t.Lk)("div",k,[s[3]||(s[3]=(0,t.Lk)("label",{class:"",for:"password"}," Password ",-1)),(0,t.bo)((0,t.Lk)("input",{class:(0,a.C4)(["input-text",{"errMsg-border":x.value}]),id:"password",type:"password",placeholder:"請輸入密碼","onUpdate:modelValue":s[1]||(s[1]=e=>f.value=e)},null,2),[[o.Jo,f.value]])]),(0,t.Lk)("div",b,[(0,t.Lk)("button",{class:"button click-color-mid",type:"button",onClick:(0,o.D$)(M,["prevent"])}," 登入 "),x.value?((0,t.uX)(),(0,t.CE)("p",m,(0,a.v_)(x.value),1)):(0,t.Q3)("",!0),(0,t.bF)(l,{to:"/register"},{default:(0,t.k6)((()=>s[4]||(s[4]=[(0,t.Lk)("p",{class:"dark-text-xs underline"},"還沒有註冊會員嗎? 點擊前往註冊會員",-1)]))),_:1})])])]),(0,t.bF)(r.A,{visible:(0,c.R1)(y),message:(0,c.R1)(L),type:(0,c.R1)(h),onClose:(0,c.R1)(C)},null,8,["visible","message","type","onClose"])],64)}}},f=l(1241);const x=(0,f.A)(g,[["__scopeId","data-v-0d20a3e3"]]);var y=x}}]);