"use strict";(self["webpackChunkcafe_today"]=self["webpackChunkcafe_today"]||[]).push([[633],{9737:function(e,t,s){s(4114),s(8992),s(4520),s(2577),s(8872);var c=s(2261);const l=(0,c.nY)("save",{state:()=>({items:[],selectedItems:[]}),getters:{totalAmount:e=>e.items.reduce(((e,t)=>e+t.address),0),itemCount:e=>e.items.length},actions:{addToSave(e){const t=this.items.find((t=>t.id===e.id));t||this.items.push({id:e.id,name:e.name,city:e.city,address:e.address,open_time:e.open_time})},removeFromSave(e){this.items=this.items.filter((t=>t.id!==e)),this.selectedItems=this.selectedItems.filter((t=>t!==e))},toggleSelectItem(e){const t=this.selectedItems.indexOf(e);-1===t?this.selectedItems.push(e):this.selectedItems.splice(t,1)},removeSelectedItems(){this.items=this.items.filter((e=>!this.selectedItems.includes(e.id))),this.selectedItems=[]},clearSave(){this.items=[],this.selectedItems=[]},checkout(){alert(`收藏成功！總共收藏 ${this.itemCount} 間咖啡店`),this.clearSave()}}});t.A=l},633:function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var c=s(6768),l=(s(1454),s(4232)),i=s(9737);const a={class:""},d={key:0,class:"no-data-bg"},n={key:1},o={class:"card-bg"},u={class:"flex items-center"},k=["checked"],r={class:"card"},m={class:"card-container"},h=["id","checked","onChange"],v=["for"],b={class:"card-text"},g={class:"dark-text"},p={class:"light-bold-text-xs"},L={class:"dark-text-xs"},x={class:"dark-text-xs"},f=["onClick"],C={class:"save-count-bg"},I={class:"save-count-container"},_={class:"light-bold-text-xl"};var y={__name:"SaveComponent",setup(e){const t=(0,i.A)(),s=(0,c.EW)((()=>t.items)),y=(0,c.EW)((()=>t.selectedItems)),S=(0,c.EW)((()=>t.itemCount)),E=e=>y.value.includes(e),X=e=>{t.toggleSelectItem(e)},F=e=>{e.target.checked?t.selectedItems=s.value.map((e=>e.id)):t.selectedItems=[]},A=e=>{t.removeFromSave(e)},W=()=>{t.removeSelectedItems()},w=()=>{t.checkout()};return(e,t)=>{const i=(0,c.g2)("router-link");return(0,c.uX)(),(0,c.CE)("div",a,[t[4]||(t[4]=(0,c.Lk)("h2",{class:"title"},"收藏起來",-1)),s.value.length?((0,c.uX)(),(0,c.CE)("div",n,[(0,c.Lk)("div",o,[(0,c.Lk)("div",u,[(0,c.Lk)("input",{type:"checkbox",id:"select-all",class:"checkbox",checked:y.value.length===s.value.length,onChange:F},null,40,k),t[2]||(t[2]=(0,c.Lk)("label",{for:"select-all",class:"light-bold-text"},"全選",-1))]),y.value.length>0?((0,c.uX)(),(0,c.CE)("button",{key:0,onClick:W,class:"button click-color-mid"}," 刪除已選項目 ")):(0,c.Q3)("",!0)]),(0,c.Lk)("div",r,[(0,c.Lk)("div",m,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(s.value,(e=>((0,c.uX)(),(0,c.CE)("div",{key:e.id,class:"flex items-center"},[(0,c.Lk)("input",{type:"checkbox",id:`item-${e.id}`,class:"checkbox",checked:E(e.id),onChange:t=>X(e.id)},null,40,h),(0,c.Lk)("label",{for:`item-${e.id}`,class:"light-bold-text-xs"},null,8,v),(0,c.Lk)("div",b,[(0,c.Lk)("h3",g,(0,l.v_)(e.name),1),(0,c.Lk)("p",p,(0,l.v_)(e.city),1),(0,c.Lk)("p",L,(0,l.v_)(e.address),1),(0,c.Lk)("p",x,(0,l.v_)(e.open_time),1)]),(0,c.Lk)("button",{onClick:t=>A(e.id),class:"button click-color-mid"}," 刪除 ",8,f)])))),128))])]),(0,c.Lk)("div",C,[(0,c.Lk)("div",I,[t[3]||(t[3]=(0,c.Lk)("span",{class:"light-bold-text"},"總共收藏咖啡店:",-1)),(0,c.Lk)("span",_,"共 "+(0,l.v_)(S.value)+" 間",1)])]),(0,c.Lk)("div",{class:"checkout"},[(0,c.Lk)("button",{onClick:w,class:"button click-color-light"}," 確定收藏到你的私藏咖啡巡禮 ")])])):((0,c.uX)(),(0,c.CE)("div",d,[t[1]||(t[1]=(0,c.Lk)("p",{class:"no-data-text"},"您的收藏清單是空的",-1)),(0,c.bF)(i,{to:"/list/listTaichung",href:"#",class:"button click-color-mid"},{default:(0,c.k6)((()=>t[0]||(t[0]=[(0,c.eW)(" 瀏覽咖啡店列表 ")]))),_:1})]))])}}},S=s(1241);const E=(0,S.A)(y,[["__scopeId","data-v-ee311dda"]]);var X=E,F={__name:"SaveListView",setup(e){return(e,t)=>((0,c.uX)(),(0,c.CE)("div",null,[(0,c.bF)(X)]))}};const A=F;var W=A}}]);