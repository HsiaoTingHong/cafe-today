"use strict";(self["webpackChunkcafe_today"]=self["webpackChunkcafe_today"]||[]).push([[611],{7258:function(e,t,s){s.d(t,{A:function(){return n}});var a=s(144);function n(e){const t=(0,a.KR)(!1),s=(0,a.KR)(!1),n=(0,a.KR)(""),l=function(e){return new Promise((t=>{setTimeout((()=>{console.log(`已等待 ${e} 毫秒`),t()}),e)}))},o=async function(){t.value=!0,s.value=!1,n.value="";try{await l(3e3);const t=Math.floor(Math.random()*e.value.length);n.value=e.value[t],s.value=!0}catch(a){console.error("抽籤過程發生錯誤:",a)}finally{t.value=!1}};return{selectedShop:n,isDestiny:t,isDestinyDone:s,getDestinyShop:o}}},3611:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var a=s(6768),n=s(5130),l=s(4232);const o={class:"screen-center"},r={key:0,class:"table-border"},d=["id"],c={class:"table-td border-b"},i={class:"table-td border-b"},u={class:"table-td border-b"},b=["href"],h={class:"table-td border-b"},v=["disabled"],k={key:0},p={key:1};function f(e,t,s,f,y,D){return(0,a.uX)(),(0,a.CE)(a.FK,null,[t[7]||(t[7]=(0,a.Lk)("h2",{class:"title"},"下一站要去哪?",-1)),(0,a.Lk)("div",o,[(0,a.bF)(n.eB,null,{default:(0,a.k6)((()=>[f.isDestinyDone?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("table",{class:"table-all",id:`item-${f.selectedShop.id}`},[(0,a.Lk)("tr",null,[t[1]||(t[1]=(0,a.Lk)("th",{class:"table-td border-b border-r w-25 text-nowrap"},"店家名稱",-1)),(0,a.Lk)("td",c,(0,l.v_)(f.selectedShop.name||"無"),1)]),(0,a.Lk)("tr",null,[t[2]||(t[2]=(0,a.Lk)("th",{class:"table-td border-b border-r"},"城市",-1)),(0,a.Lk)("td",i,(0,l.v_)(f.selectedShop.city||"無"),1)]),(0,a.Lk)("tr",null,[t[5]||(t[5]=(0,a.Lk)("th",{class:"table-td border-b border-r"},"地址",-1)),(0,a.Lk)("td",u,[(0,a.Lk)("a",{href:`https://www.google.com/maps/search/${encodeURIComponent(f.selectedShop.name)}`,target:"_blank",rel:"noreferrer noopener",class:"underline"},[(0,a.eW)((0,l.v_)(f.selectedShop.address||"無"),1),t[3]||(t[3]=(0,a.Lk)("br",null,null,-1)),t[4]||(t[4]=(0,a.eW)(" (前往 Google 地圖) "))],8,b)])]),(0,a.Lk)("tr",null,[t[6]||(t[6]=(0,a.Lk)("th",{class:"table-td border-b border-r"},"營業時間",-1)),(0,a.Lk)("td",h,(0,l.v_)(f.selectedShop.open_time||"無"),1)])],8,d)])):(0,a.Q3)("",!0)])),_:1}),(0,a.Lk)("button",{class:"btn btn-start click-color-light",onClick:t[0]||(t[0]=(0,n.D$)(((...e)=>f.getDestinyShop&&f.getDestinyShop(...e)),["prevent"])),disabled:f.isDestiny||f.isSavedCafesNoData},[f.isSavedCafesNoData?((0,a.uX)(),(0,a.CE)("span",k,(0,l.v_)(f.isSavedCafesNoData?"你的口袋名單是空的":"點擊進行抽籤"),1)):((0,a.uX)(),(0,a.CE)("span",p,(0,l.v_)(f.isDestiny?"抽籤中...":"點擊進行抽籤"),1))],8,v)])],64)}var y=s(144),D=s(7258),S={name:"CustomizeDestinyView",setup(){const e=(0,y.KR)([]);e.value=JSON.parse(localStorage.getItem("savedCafes")||"[]");const t=(0,y.KR)(0===e.value.length);(0,a.nT)((()=>{t.value=0===e.value.length}));const{selectedShop:s,isDestiny:n,isDestinyDone:l,getDestinyShop:o}=(0,D.A)(e);return{selectedShop:s,savedCafes:e,isSavedCafesNoData:t,isDestiny:n,isDestinyDone:l,getDestinyShop:o}}},L=s(1241);const g=(0,L.A)(S,[["render",f],["__scopeId","data-v-7737d84a"]]);var C=g}}]);